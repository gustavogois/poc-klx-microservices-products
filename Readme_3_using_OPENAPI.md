# OpenAPI

we will use the OpenAPI Specification to document APIs that we can make 
externally accessible from a microservice landscape.
We will have OpenAPI-based API documentation for the external API that's 
exposed by the product-composite-service microservice. The microservice 
will also expose a Swagger UI viewer that we can use to both visualize 
and test the API. In terms of documenting a RESTful API, we should add 
the API documentation to the Java interface that describes the API, and 
not to the Java class that implements the API. To simplify updating the 
textual parts of the API documentation (for example, longer descriptions), 
we place the descriptions in property files instead of in the Java code directly.

The OpenAPI 
Specification, previously known as the Swagger specification, is one of 
the most commonly used specifications when it comes to documenting 
RESTful services. We will use the open source project springdoc-openapi 
to produce such 
documentation. 

Lastly, we will embed an API documentation viewer, Swagger UI viewer, 
which can be used both to inspect the API documentation and also to 
make requests to the API.

## springdoc-openapi

springdoc-openapi makes it possible to keep the documentation of the API together with the 
source code that implements the API. springdoc-openapi can create the API documentation on 
the fly at runtime by inspecting Java annotations in the code. 

*Before springdoc-openapi was created, another open source project, 
SpringFox (http://springfox.github.io/springfox/), provided similar features. 
Over recent years, the SpringFox project has not been actively maintained and, as a reaction 
to that, the springdoc-openapi project was created. A migration guide for SpringFox users 
can be found at https://springdoc.org/#migrating-from-springfox.*

Added to creating the API specification on the fly, springdoc-openapi also comes with an embedded API viewer called Swagger UI. We will configure the product-composite-service service to expose Swagger UI for its API.

Even though Swagger UI is very useful during development and test phases, it is typically not 
exposed in public for APIs in a production environment, for security reasons. In many cases, APIs 
are exposed publicly using an API Gateway. Today, most API Gateway products support exposing API 
documentation based on a OpenAPI document. So instead of exposing Swagger UI, the API's OpenAPI 
document, generated by springdoc-openapi, is exported to an API Gateway that can publish the API 
documentation in a secure way.

## Swagger UI

http://localhost:8080/openapi/swagger-ui.html

*Note that this is the link to the OpenAPI document that can be exported to an API Gateway*